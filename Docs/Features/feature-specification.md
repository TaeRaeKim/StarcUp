# StarcUp 기능 명세서

## 📋 프로젝트 개요

StarcUp은 스타크래프트 게임 플레이 중 실시간으로 게임 상황을 모니터링하고, 중요한 정보를 오버레이로 표시하여 사용자의 게임 효율성을 향상시키는 도구입니다.

## 🎯 핵심 목표

- **실시간 정보 제공**: 게임 플레이 방해 없이 중요 정보 표시
- **사용자 맞춤 설정**: 필요한 정보만 선택적으로 표시
- **직관적 인터페이스**: 복잡한 게임 데이터를 간단하고 명확하게 표현
- **성능 최적화**: 게임 성능에 영향 주지 않는 백그라운드 동작

## 🚀 기능 우선순위 매트릭스

### Phase 1: 핵심 기능 (MVP)

| 순서 | 기능 | 설명 | 사용자 가치 | 구현 난이도 | 기술적 의존성 |
|------|------|------|------------|------------|-------------|
| **1** | **실시간 일꾼 상태 표시** | `👷12(2)` 형태로 총/방치 일꾼 수, 사망시 깜빡임 | 🔥 높음 | 🟢 쉬움 | 독립적 |
| **2** | **실시간 업그레이드 진행 표시** | 진행중 업그레이드 아이콘 + 시간/진행률 | 🔥 높음 | 🟡 보통 | 독립적 |

### Phase 2: 확장 기능

| 순서 | 기능 | 설명 | 사용자 가치 | 구현 난이도 | 기술적 의존성 |
|------|------|------|------------|------------|-------------|
| **3** | **사용자 정의 유닛 카운트** | 카테고리별 유닛 수 표시, 드래그&드롭 순서 변경 | 🔥 높음 | 🟡 보통 | 독립적 |
| **4** | **목표 기반 방치 건물 알림** | 목표 설정 + 방치 건물 감지하여 ⚠️ 표시 | 🟡 중간 | 🔴 어려움 | 기능2 의존 |

### Phase 3: 고급 기능

| 순서 | 기능 | 설명 | 사용자 가치 | 구현 난이도 | 기술적 의존성 |
|------|------|------|------------|------------|-------------|
| **5** | **빌드오더 가이드** | 노래방 가사처럼 현재/다음 빌드 단계 표시, GUI 기반 설정 | 🔥 높음 | 🔴 어려움 | 독립적 |
| **6** | **인구수 경고 시스템** | 생산건물 기반 또는 고정값 기반 공급 부족 사전 경고 | 🔥 높음 | 🟡 보통 | 독립적 |

## 📝 기능별 상세 명세

### 1. 실시간 일꾼 상태 표시

#### 기능 설명
게임 중 일꾼의 상태를 실시간으로 모니터링하여 총 일꾼 수와 방치 일꾼 수를 표시합니다.

#### 표시 방식
- **기본**: `👷12` (총 일꾼 수만 표시)
- **방치 있을 때**: `👷12(2)` (총 12명, 방치 2명)
- **일꾼 사망 시**: 아이콘이 빨간색으로 깜빡임 후 원래 색으로 복구

#### 방치 일꾼 판단 기준
- **기술적 기준**: ActionType 기반 즉시 판단
- **방치 아님**: 이동, 일, 건설, 홀드 등의 ActionType
- **방치임**: 기타 ActionType (시간 지연 없음)

#### 기본 설정
- **위치**: 좌상단 (사용자 드래그로 조정 가능)
- **우선순위**: 낮음 (게임 플레이 핵심 영역 회피)

### 2. 실시간 업그레이드 진행 표시

#### 기능 설명
현재 진행 중인 업그레이드들을 아이콘과 진행 정보로 표시합니다.

#### 표시 방식
```
⚔️    🛡️    ⚡
2:30  ████░  85%
```

#### 사용자 설정 옵션
- **Option A**: 잔여 시간 (`2:30`, `1:45`)
- **Option B**: 진행률 바 (`████░░░░`, `60%`)
- **Option C**: 혼합 표시 (`████░ 60% 1:30`)

#### 배치
- 같은 Line에 아이콘들 나열
- 아이콘 하단에 진행 정보 표시
- 사용자 정의 위치 설정 가능

### 3. 사용자 정의 유닛 카운트

#### 기능 설명
사용자가 선택한 유닛들을 카테고리별로 그룹화하여 표시합니다.

#### 카테고리 시스템
- 사용자가 카테고리 생성/삭제 가능
- 각 카테고리에 원하는 유닛들 선택하여 추가
- 카테고리별로 독립적인 오버레이 위치 설정

#### 표시 예시
```
카테고리 A (지상 전투): 질럿, 드라군
⚔️5 🛡️3

카테고리 B (공중): 스카웃  
✈️2

카테고리 C (특수): 옵저버, 셔틀
👁️1 🚁2
```

#### 우선순위 관리
- **초기 순서**: 사용자가 유닛 선택한 순서
- **순서 변경**: 설정에서 드래그&드롭으로 재배열 가능
- **동적 표시**: 0개 유닛은 표시 안 함

### 4. 목표 기반 방치 건물 알림

#### 기능 설명
사용자가 설정한 목표 업그레이드에 도달하지 못한 상태에서 방치된 건물이 있을 때 경고 표시합니다.

#### 알림 조건
**표시 조건**: 목표 설정 + 현재 미달성 + 방치 건물 존재
**표시 방식**: 간단한 경고 이미지 (`⚠️🏭`)

#### 구체적인 로직
**단일 업그레이드 건물 (사이버네틱스)**
- 목표: 드라군 사거리 업그레이드
- 건물 없음 → 표시 X
- 건물 있음 + 업그레이드 안함 → ⚠️ 표시
- 건물 있음 + 업그레이드 중 → 표시 X

**복수 업그레이드 건물 (포지 2개)**
- 목표: 공격력2, 방어력2 / 현재: 공격력1, 방어력0
- 포지1(공2업 중), 포지2(업그레이드 안함) → ⚠️ 표시  
- 포지1(공2업 중), 포지2(방1업 중) → 표시 X

### 5. 빌드오더 가이드

#### 기능 설명
노래방에서 현재 불러야 할 가사와 다음 가사가 표시되는 것처럼, 현재 해야 할 빌드와 다음에 해야 할 빌드를 두 줄로 표시하여 체계적인 빌드 오더 실행을 지원합니다.

#### 빌드 오더 설정
- **GUI 기반 입력**: 건물 아이콘 선택으로 직관적 설정
- **사용자 정의**: Form을 통한 완전 커스터마이징
- **공유 기능**: 복사/붙여넣기로 빌드 오더 공유
- **순서 조정**: 같은 페이즈 내 드래그&드롭으로 우선순위 변경

#### 표시 방식
```
현재 페이즈 (1줄째):
🏢(2) 🔬    // 게이트웨이 2개, 사이버네틱스 코어 1개

다음 페이즈 (2줄째):
🛡️ 🏢(2)   // 아둔의 창, 게이트웨이 2개 추가 (회색 표시)
```

#### 상태 표시 시스템
**색상 구분**:
- **회색**: 미시작 건물 (하단에 총개수(남은개수) 표시)
- **노란색**: 진행 중 (목표 미달성)
- **초록색**: 목표 달성 완료

**건설 기준별 상태 변화**:

**"건설 시작" 기준 설정 시:**
```
건물 4개 목표 예시:
시작 0개 → 회색 아이콘
건설중 2개 → 노란색 아이콘  
완료 2개 + 건설중 1개 → 노란색 아이콘
완료 2개 + 건설중 2개 → 초록색 아이콘 (시작 4개 달성)
```

**"건설 완료" 기준 설정 시:**
```
건물 4개 목표 예시:
시작 0개 → 회색 아이콘
건설중 2개 → 노란색 아이콘
완료 2개 + 건설중 1개 → 노란색 아이콘
완료 2개 + 건설중 2개 → 노란색 아이콘
완료 4개 → 초록색 아이콘 (완료 4개 달성)
```

#### 페이즈 전환 설정
- **완성 기준**: 건설 완료 시점 또는 건설 시작 시점 선택 가능
- **자동 전환**: 현재 페이즈 완료 시 다음 페이즈가 자동으로 1줄째로 이동
- **다음 줄 표시**: 사용자 설정으로 2줄째 표시 여부 선택

### 6. 인구수 경고 시스템

#### 기능 설명
공급 건물(파일런, 서플라이 디포, 오버로드) 부족으로 인한 인구수 제한을 사전에 방지하는 스마트 경고 시스템입니다.

#### 경고 조건
**기본 공식**: `(최대 인구수 - 현재 인구수) ≤ 설정값` 일 때 경고 발생

#### 설정 모드

**모드 A: 생산 건물 기반**
- **건물별 배수 설정**: 각 생산 건물에 개별 배수 적용
- **계산 예시**: 
  ```
  배럭(×1) 2개 + 팩토리(×2) 2개 = 총 6
  → (최대인구 - 현재인구) ≤ 6일 때 경고
  ```
- **종족별 생산 건물**:
  - 프로토스: 게이트웨이, 로보틱스, 스타게이트
  - 테란: 배럭, 팩토리, 스타포트  
  - 저그: 해처리

**모드 B: 고정값 기반**
- **상수값 설정**: 단순히 고정된 숫자로 경고 기준 설정
- **시간 제한**: 게임 시작 후 특정 시간 이후부터 경고 활성화
- **활용 예시**: 초보자용 간단 설정 (예: 항상 4명 여유분 유지)

#### 알림 시스템
**단발성 알림**: 지속적 표시가 아닌 필요 시점에만 ShowBalloonTip/ShowAlarm 형태로 알림

**스마트 재알림 로직 (잦은 알림 방지)**:
1. **최초 경고**: 조건 만족 시 즉시 알림
2. **미해결 재알림**: 문제가 해결되지 않으면 [타이머 대기] 후 재알림
3. **타이머 유지**: 경고 조건이 해결되더라도 타이머는 초기화되지 않음
4. **해결 후 재발생**: 문제 해결 후 다시 조건 만족 시도 기존 타이머 유지
5. **대기 중 해결**: 재알림 대기 중 문제 해결되어도 타이머 계속 진행

```
타이머 기반 알림 제어 (잦은 알림 방지):
경고 발생 → 알림 → [타이머 대기] → 미해결 시 재알림
                    ↓     
                  해결 → [경고 조건 재충족] → [타이머 대기] → 미해결 시 알림
                                                      ↓
                                                    해결 → 알림X

※ 중요: 경고 조건 해결 시에도 타이머는 초기화되지 않음
```

## 🔮 향후 확장 기능 (백로그)

| 기능 | 설명 | 예상 가치 |
|------|------|----------|
| **생산 대기열 표시** | 건물별 생산 상황 및 대기열 표시 | 🔥 높음 |
| **핫키/단축키 지원** | 오버레이 숨기기/보이기, 설정 빠른 변경 | 🟡 중간 |
| **자원 최적화 알림** | 가스건물 × 3 = 최적 가스채취 일꾼 수 검증 | 🟡 중간 |

### 자원 최적화 기능 상세
```
가스건물 2개 × 3 = 6명의 일꾼이 가스 채취해야 함
현재 가스 채취 일꾼: 4명

표시 예시:
⛽ 4/6  // 6명 필요한데 4명만 일함
또는
⛽ ⚠️  // 최적화되지 않음 경고
```

## 🎨 UI/UX 설계 원칙

### 오버레이 디자인 원칙
1. **가독성 우선**: 게임 배경과 구별되는 명확한 대비
2. **최소 침해**: 게임 플레이 핵심 영역 회피
3. **정보 우선순위**: 긴급 > 중요 > 참고 순서로 표시

### 사용자 설정
- **위치 조정**: 드래그&드롭으로 오버레이 위치 변경
- **표시 옵션**: 필요한 정보만 선택적 활성화
- **시각적 설정**: 투명도, 폰트 크기, 색상 테마 조절

## 🔧 기술적 고려사항

### 성능 요구사항
- 게임 FPS에 영향 없는 백그라운드 동작
- 메모리 사용량 최소화
- 실시간 데이터 업데이트 최적화

### 호환성
- Windows Forms 기반 UI
- 스타크래프트 프로세스 메모리 접근
- 다양한 해상도 지원

### 확장성
- 새로운 기능 추가 용이한 모듈 구조
- 사용자 설정 저장/불러오기
- 플러그인 형태의 기능 확장 가능성

## 📊 성공 지표

### 사용자 만족도
- 게임 효율성 개선 체감도
- 인터페이스 직관성 평가
- 성능 영향 최소화 만족도

### 기술적 지표
- 메모리 사용량 < 50MB
- CPU 사용률 < 5%
- 오버레이 업데이트 지연 < 100ms

## 📅 개발 로드맵

### Phase 1 (MVP) - 예상 기간: 20-30 MD
1. 일꾼 상태 표시 (5-10 MD)
2. 업그레이드 진행 표시 (10-15 MD)
3. 기본 오버레이 시스템 구축 (5 MD)

### Phase 2 (확장) - 예상 기간: 30-40 MD  
1. 유닛 카운트 시스템 (15-20 MD)
2. 방치 건물 알림 (10-15 MD)
3. 고급 설정 UI (5 MD)

### 향후 계획
- 사용자 피드백 수집 및 개선
- 추가 기능 우선순위 재평가
- 성능 최적화 및 안정성 개선